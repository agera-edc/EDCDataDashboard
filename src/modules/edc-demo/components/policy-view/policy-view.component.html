<div id="wrapper" *ngIf="policies$ | async as policies">
  <!--  entry fields for new policy -->
  <!--  <div id="newEntry">-->
  <!--    <button mat-raised-button color="accent" (click)="onCreateNewClicked()">-->
  <!--      <mat-icon>add_circle</mat-icon>-->
  <!--    </button>-->
  <!--  </div>-->

  <div fxLayout="column" fxLayoutAlign="space-around stretch">
    <mat-card *ngFor="let policy of policies" class="policy-card">
      <mat-card-header>
        <mat-icon mat-card-avatar>policy</mat-icon>
        <mat-card-title><span class="code">{{policy.uid}}</span></mat-card-title>
      </mat-card-header>

      <mat-card-content>

        <mat-list dense>
          <mat-list-item>
            <mat-icon mat-list-icon>trip_origin</mat-icon>
            <div mat-line>{{policy.assigner || 'n/a'}}</div>
            <div mat-line>Assigner</div>
          </mat-list-item>
          <mat-list-item>
            <mat-icon mat-list-icon>adjust</mat-icon>
            <div mat-line>{{policy.assignee || 'n/a'}}</div>
            <div mat-line>Assignee</div>
          </mat-list-item>
        </mat-list>

        <!-- Permissions-->
        <policy-rules [rules]="policy.permissions"></policy-rules>

        <!-- Obligations-->
        <policy-rules [rules]="policy.obligations"></policy-rules>

        <!-- Prohibitions-->
        <policy-rules [rules]="policy.prohibitions"></policy-rules>

      </mat-card-content>

    </mat-card>
  </div>
</div>
